<!-- Management Dashboard -->
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
	
    <title>Management - Dashboard</title>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark navbar-expand-lg sticky-top">
        <img src="../../pictures/logo_transp.png" width="40" height="40" alt=""> &nbsp; &nbsp;
        <a class="navbar-brand" style="color:white; text-align: left;">Waiter</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link disabled" href="#">Dashboard<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="menu_edit.html" >Edit Menu</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="history.html">Restauraunt History</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="old_items.html">Old Menu Items</a>
                </li>
            </ul>
            <button class="btn btn-outline-light my-2 my-sm-0" onclick="logout()">Logout
                <span><i class="fas fa-sign-out-alt" aria-hidden="true"></i></span>
            </button>
        </div>
    </nav>


    <div class="container">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <div class="title">Dashboard</div>
            <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
          </div>
        
        <div class="row">

            <!-- Earnings (Monthly) Card -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Earnings (Monthly)</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">$40,000</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-calendar fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Annual) Card -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Av. Earnings (Annual)</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">$215,000</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Reminders Card -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Reminders</div>
                      <div class="row no-gutters align-items-center">
                        <div class="col-auto">
                          <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">6</div>
                        </div>
                        <div class="col">
                          <div class="progress progress-sm mr-2">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pending Messages Card -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Pending Messages</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">18</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-comments fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

    </div>
    

    <div id="app" class="container">
        <div class="card shadow mb-4">
          <!-- Card Header - Dropdown -->
          <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Earnings Overview</h6>

          </div>
          <!-- Card Body -->
          <div class="card-body">
			  <line-chart :data="dataChart" :options="{responsive: true, maintainAspectRatio: false}"></line-chart>
          </div>
        </div>

		<div class="container" style="text-align: center;">
			<select id="timePeriod" v-model="type">
				<option value="hourly">by Hour</option>
				<option value="weekly">by Week</option>
				<option value="daily">by Day</option>
				<option value="monthly">by Month</option>
			</select>
			
			<button class="btn btn-primary" type="submit" v-on:click="changeData">Update Chart</button>
		</div>
	</div>

</body>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
<script src="https://unpkg.com/vue-chartjs/dist/vue-chartjs.min.js"></script>

<script>

	Vue.component("line-chart", {
		extends: VueChartJs.Line,
		props: ["data", "options"],
		mounted() {
			this.renderLineChart();
		},
		computed: {
			chartData: function() {
				return this.data;
			}
		},
		methods: {
			renderLineChart: function() {
				this.renderChart(
				{
					labels: this.chartData.labels,
					datasets: [
						{
							label: "Earnings",
							backgroundColor: "#f87979",
							data: this.chartData.earnings
						}
					]
				},
				{ scales: { yAxes: [
								{ scaleLabel: {
								display: true,
        						labelString: 'Earnings / $'
      							}, ticks: {
									callback: function(value, index, values) {
										return '$' + value;
									}
                				}
					}] },responsive: true, maintainAspectRatio: false 
				}
				);      
			}
		},
		watch: {
			data: function() {
				this.renderLineChart();
			}
		}
	});

	var vm = new Vue({
		el: "#app",
		data: {
			message: "Hello World",
			type: '',
			hourlyData: {
				labels: ["12pm", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm", "11pm", "12am"],
				earnings: [6, 6, 3, 5, 5, 6, 6, 6, 3, 5, 5, 6, 11]
			},
			dailyData: {
				labels: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
				earnings: [5, 7, 9, 11, 13, 15, 17]
			},
			weeklyData: {
				labels: ["This week", "Last week", "2 weeks ago", "3 weeks ago", "4 weeks ago", "5 weeks ago", "6 weeks ago"],
				earnings: [10, 5, 2.5, 0, 2.5, 5, 10]
			},
			monthlyData: {
				labels: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
				earnings: [10, 39, 10, 40, 39, 10, 15, 23, 26, 3, 11, 20],
			},

			dataChart: {
				labels: ["12pm", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm", "11pm", "12am"],
				earnings: [6, 6, 3, 5, 5, 6, 6, 6, 3, 5, 5, 6, 11],
				
			}
		},
		methods: {
			changeData: function() {
				if(this.type == 'hourly') {
					this.dataChart = {
						labels: this.hourlyData.labels,
						earnings: this.hourlyData.earnings,
					}
				} else if(this.type == 'daily') {
					this.dataChart = {
						labels: this.dailyData.labels,
						earnings: this.dailyData.earnings,
					}
				} else if(this.type == 'weekly') {
					this.dataChart = {
						labels: this.weeklyData.labels,
						earnings: this.weeklyData.earnings,
					}
				} else if(this.type == 'monthly') {
					this.dataChart = {
						labels: this.monthlyData.labels,
						earnings: this.monthlyData.earnings,
					}
				}
			}
		}
	});

</script>
<style>
body {
    background-image: url("../../pictures/background-texture.jpg");
    font-family:"Lucida Sans Unicode", "Lucida Grande", sans-serif; 
    
}

.title { 
    font-style: normal; 
    font-variant: normal;
    font-size: 50px;
    position: relative;
    color: white;
    margin-top: 2%;
    text-align: center;
    text-shadow:  2px 2px black;
}

.container {
    padding: 10px;
    border-radius: 10px;
}
</style>

</html>